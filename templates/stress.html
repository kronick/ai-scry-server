<!doctype html>
<head>
    <style type="text/css">
        .button {
            border: 1px solid black;
            padding: 0.5em;
            border-radius: .25em;
            line-height: 2.5em;
            cursor: hand;
        }
    </style>
    <script src="//code.jquery.com/jquery-1.12.0.min.js"></script>
    <script type="text/javascript">
    var img = "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"        
    
    
    var j = '{"image": "' + img + '", "temperature": "1.0", "n": "2", '
    
    var requests_sent = 0;
    var requests_time = 0;
    var clients = []
    
    var Client = function(id) {
        this.id = id;
        this.waitingForCaptions = false;
        this.captionsCued = false;
        this.interval = null;
        this.tic = 0;

        console.log("Created new Client #" + this.id)
        
        
        $("#clients").text(clients.length)
    
        this.makeRequest = function(retry) {
            if(this.waitingForCaptions && !retry) {
                if(!this.captionsCued) {
                    this.captionsCued = true;
                    //console.log("Client " + this.id + " waiting for captions... will try again in 1 second")
                    var thisthis = this;
                    window.setTimeout(function() { thisthis.makeRequest(false); }, 1000)
                }
                
                return;
            }
            
            this.waitingForCaptions = true;
            this.captionsCued = false;
            
            if(!retry)
                this.tic = new Date().getTime();
            
            var thisthis = this;
            
            $.ajax({
                url: "http://u1f52e.net/captionsForImage",
                type: "POST",
                data: j + '"uuid": "stress-' + thisthis.id + '"}',
                contentType: 'application/json; charset=utf-8',
                
                success: function(data) {

                    var toc = new Date().getTime()
                    var dT = (toc-thisthis.tic)/1000;
                    
                    requests_sent++;
                    requests_time += dT;
                    
                    $("body").append("<p><b>(" + thisthis.id + ")</b> " + data.captions + "(" + dT + " / " + data.caption_time + " / " + data.process_time + ")</p>");
                    
                    thisthis.waitingForCaptions = false
                    
                    updateStats();

                },
                error: function(data) {
                    window.setTimeout(function() { thisthis.makeRequest(true); }, 2000)                    
                }
            });
        
        }
        
        this.start = function() {
            var thisthis = this;
            console.log("Starting " + this.id)
            this.interval = window.setInterval(function() { thisthis.makeRequest(); }, 2000)
        }
        
        this.stop = function() {
            window.clearInterval(this.interval);
        }
        
        this.start();
    }
 
    
/*
    function makeRequest() {
        var tic = new Date().getTime()
        $.ajax({
            url: "http://u1f52e.net/captionsForImage",
            type: "POST",
            data: j,
            contentType: 'application/json; charset=utf-8',
            
            success: function(data) {
                var toc = new Date().getTime()
                var dT = (toc-tic)/1000
                $("body").append("<p>" + data.captions + "(" + dT + ")</p>")
            }
        })
    }
*/

    function updateStats() {
        $("#average").text(requests_time / requests_sent)
        $("#total").text(requests_sent)
    }
    
    
    $(document).ready(function() {
        //window.setInterval(makeRequest, 1000)
       //makeRequest()
       for(var i=0; i<10; i++) {
           var n = i;
           window.setTimeout(function() {
                var c = new Client(clients.length)
                clients.push(c)  
           }, Math.random() * 10000)
        }
        
        $("#addClient").click(function() {
            var c = new Client(clients.length)
            clients.push(c);
        })
        
        $("#resetAverage").click(function() {
            requests_sent = 0;
            requests_time = 0;
            updateStats();
        })
       
    });
    </script>
</head>
<body>
    <div id="stats">
        Average request time: <span id="average">0</span>s<br>
        Total requests: <span id="total">0</span>
        <br>
        <span class="button" id="resetAverage">reset</span>
        
        <br><br>
        Number of clients: <span id="clients">0</span>
    </div>
    <div id="controls">
        <span class="button" id="addClient">Add Client</span>
        <span class="button" id="addClient">Remove Client</span>
    </div>
</body>